{"ast":null,"code":"import React,{useState}from\"react\";import\"./Box.css\";// import styles from './stylenew.css';\n// Custom hook for synchronous color assignment\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const useColorAssignment=initialColors=>{const[colors,setColors]=useState(initialColors);const assignColor=()=>{if(colors.length===0)return null;const randomIndex=Math.floor(Math.random()*colors.length);const color=colors[randomIndex];setColors(prevColors=>prevColors.filter((c,index)=>index!==randomIndex));return color;};return assignColor;};function TextInput(_ref){let{queryterms,setqueryterms,setcolorMap,brightColors,setbrightColors,closetextinput,setnewtermsupdate}=_ref;const[inputValue,setInputValue]=useState(\"\");const assignColor=useColorAssignment(brightColors);const handleInputOnChange=e=>{setInputValue(e.target.value);};const handleInputOnKeyPress=e=>{setnewtermsupdate(true);if(e.key===\"Enter\"){addTerms(inputValue);}};const handleAddButtonClick=()=>{addTerms(inputValue);};const handleRemoveTerm=index=>{setqueryterms(prevTerms=>prevTerms.filter((_,i)=>i!==index));};const addTerms=value=>{const newTerms=value.split(\";\").filter(term=>term.trim()!==\"\").map(term=>term.trim().toLowerCase());setqueryterms(prevTerms=>[...prevTerms,...newTerms]);setcolorMap(prevColorMap=>{const newColorMap={...prevColorMap};for(const term of newTerms){if(!newColorMap[term]){const randomColor=assignColor();if(randomColor){newColorMap[term]=randomColor;}}}console.log(newColorMap);return newColorMap;});setInputValue(\"\");setnewtermsupdate(true);};return/*#__PURE__*/_jsxs(\"div\",{className:\"mac-book-pro142-group9ti\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mac-book-pro142-group8ti\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mac-book-pro142-innerframeti\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputValue,onChange:handleInputOnChange,onKeyPress:handleInputOnKeyPress,placeholder:\"Enter queryterms separated by semicolon\",className:\"input-fieldti\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddButtonClick,className:\"add-buttonti\",children:\"Add\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mac-book-pro142-group7-repeat-listti\",children:queryterms.map((term,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"mac-book-pro142-group7ti\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"termti\",children:[/*#__PURE__*/_jsx(\"span\",{children:term}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveTerm(index),className:\"remove-buttonti\",children:\"x\"})]},index)},index))}),/*#__PURE__*/_jsx(\"button\",{className:\"mac-book-pro142-donebuttonti\",onClick:()=>closetextinput(),children:\"DONE\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mac-book-pro142-frame2\"})]});}export default TextInput;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","useColorAssignment","initialColors","colors","setColors","assignColor","length","randomIndex","Math","floor","random","color","prevColors","filter","c","index","TextInput","_ref","queryterms","setqueryterms","setcolorMap","brightColors","setbrightColors","closetextinput","setnewtermsupdate","inputValue","setInputValue","handleInputOnChange","e","target","value","handleInputOnKeyPress","key","addTerms","handleAddButtonClick","handleRemoveTerm","prevTerms","_","i","newTerms","split","term","trim","map","toLowerCase","prevColorMap","newColorMap","randomColor","console","log","className","children","type","onChange","onKeyPress","placeholder","onClick"],"sources":["/home/ashish/docpdf/pdfdoc/research-ranking-app/my-app/src/textinput.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./Box.css\";\n// import styles from './stylenew.css';\n\n\n// Custom hook for synchronous color assignment\nconst useColorAssignment = (initialColors) => {\n    const [colors, setColors] = useState(initialColors);\n\n    const assignColor = () => {\n        if (colors.length === 0) return null;\n\n        const randomIndex = Math.floor(Math.random() * colors.length);\n        const color = colors[randomIndex];\n        setColors((prevColors) => prevColors.filter((c, index) => index !== randomIndex));\n\n        return color;\n    };\n\n    return assignColor;\n};\n\n\nfunction TextInput({ queryterms, setqueryterms, setcolorMap, brightColors, setbrightColors, closetextinput ,setnewtermsupdate}) {\n    const [inputValue, setInputValue] = useState(\"\");\n    const assignColor = useColorAssignment(brightColors);\n\n    const handleInputOnChange = (e) => {\n        setInputValue(e.target.value);\n    };\n\n    const handleInputOnKeyPress = (e) => {\n        setnewtermsupdate(true);\n        if (e.key === \"Enter\") {\n            addTerms(inputValue);\n        }\n    };\n\n    const handleAddButtonClick = () => {\n        addTerms(inputValue);\n    };\n\n    const handleRemoveTerm = (index) => {\n        setqueryterms((prevTerms) => prevTerms.filter((_, i) => i !== index));\n    };\n\n    const addTerms = (value) => {\n        const newTerms = value\n            .split(\";\")\n            .filter((term) => term.trim() !== \"\")\n            .map((term) => term.trim().toLowerCase());\n\n        setqueryterms((prevTerms) => [...prevTerms, ...newTerms]);\n\n        setcolorMap((prevColorMap) => {\n            const newColorMap = { ...prevColorMap };\n\n            for (const term of newTerms) {\n                if (!newColorMap[term]) {\n                    const randomColor = assignColor();\n                    if (randomColor) {\n                        newColorMap[term] = randomColor;\n                    }\n                }\n            }\n            console.log(newColorMap);\n            return newColorMap;\n        });\n\n        setInputValue(\"\");\n        setnewtermsupdate(true);\n    };\n\n\n\n    return (\n        <div className=\"mac-book-pro142-group9ti\">\n\n            <div className=\"mac-book-pro142-group8ti\">\n\n                <div className=\"mac-book-pro142-innerframeti\">\n                    <input\n                        type=\"text\"\n                        value={inputValue}\n                        onChange={handleInputOnChange}\n                        onKeyPress={handleInputOnKeyPress}\n                        placeholder=\"Enter queryterms separated by semicolon\"\n                        className=\"input-fieldti\"\n                    />\n\n                </div>\n                <button onClick={handleAddButtonClick} className=\"add-buttonti\">\n                    Add\n                </button>\n\n\n            </div>\n\n\n            <div className=\"mac-book-pro142-group7-repeat-listti\">\n\n                {queryterms.map((term, index) => (\n                    <div key={index} className=\"mac-book-pro142-group7ti\">\n\n                        <div key={index} className=\"termti\" >\n                            <span>{term}</span>\n\n                            <button\n                                onClick={() => handleRemoveTerm(index)}\n                                className=\"remove-buttonti\"\n                            >\n                                x\n                            </button>\n                        </div>\n\n                    </div>\n                ))}\n            </div>\n\n\n            {/* <div className=\"mac-book-pro142-donebuttonti\" onClick={() => closetextinput()}>\n                <span className=\"mac-book-pro142-text12ti\">\n                    <span>DONE</span>\n                </span>\n            </div> */}\n            <button className=\"mac-book-pro142-donebuttonti\" onClick={() => closetextinput()}>DONE</button>\n\n            <div className=\"mac-book-pro142-frame2\"></div>\n        </div>\n    );\n}\n\nexport default TextInput;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}