{"ast":null,"code":"import React,{useEffect,useState,useRef}from\"react\";import\"./HTMLViewer.css\";// Import your CSS file if needed\nimport htmlpdfviewer from'html-pdf-viewer';import Button from'react-bootstrap/Button';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSearchPlus,faSearchMinus}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const HTMLViewer=_ref=>{let{html}=_ref;const[scale,setScale]=useState(1.2);// Initial scale factor\nconst[pageNum,setPageNum]=useState(1);// State to keep track of current page number\nconst[htmlWidth,setHtmlWidth]=useState(0);// State to store the width of HTML content\nconst hiddenDivRef=useRef(null);// Ref for hidden div\nuseEffect(()=>{const tempDiv=document.createElement(\"div\");tempDiv.innerHTML=html;tempDiv.style.visibility=\"hidden\";document.body.appendChild(tempDiv);// Check if sidebar and pagecontainer exist before accessing their properties\nconst sidebarElement=tempDiv.querySelector(\"#sidebar\");const pageContainerElement=tempDiv.querySelector(\"#page-container\");if(sidebarElement&&pageContainerElement){const sidebarWidth=sidebarElement.offsetWidth;console.log(\"Width of sidebar:\",sidebarWidth);const pageContainerWidth=pageContainerElement.offsetWidth;console.log(\"Width of pagecontainer:\",pageContainerWidth);if(pageContainerElement<650){setScale(scale+1);}}else{console.error(\"Could not find sidebar or pagecontainer element in HTML.\");}// Cleanup: remove the temporary div from the DOM\ndocument.body.removeChild(tempDiv);},[]);const handleZoomIn=()=>{setScale(scale+0.1);// Increase scale factor by 0.1\n};const handleZoomOut=()=>{if(scale>1.1){setScale(scale-0.1);}// Decrease scale factor by 0.1\n};useEffect(()=>{console.log(scale);},[scale]);useEffect(()=>{setPageNum(1);},[html]);// Reset page number whenever the HTML changes\nconst goToPrevPage=()=>{if(pageNum>1){setPageNum(pageNum-1);}};const viewPdf=()=>{return htmlpdfviewer(html,{output:{mode:'display',container:'#iframeId',height:800}});};const goToNextPage=()=>{const iframe=document.getElementById(\"viewer-iframe\");const numPages=iframe.contentWindow.document.querySelectorAll(\"body > div\").length;if(pageNum<numPages){setPageNum(pageNum+1);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"pdfcontainerinside\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleZoomIn,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSearchPlus}),\" Zoom In\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleZoomOut,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSearchMinus}),\" Zoom Out\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"iframe-container\",children:/*#__PURE__*/_jsx(\"iframe\",{id:\"viewer-iframe\",title:\"HTML Viewer\",srcDoc:html,style:{transform:\"scale(\".concat(scale,\")\"),// Dynamically set the scale factor\ntransformOrigin:\"0 0\"// Set the origin of transformation\n}})})]})});};export default HTMLViewer;","map":{"version":3,"names":["React","useEffect","useState","useRef","htmlpdfviewer","Button","FontAwesomeIcon","faSearchPlus","faSearchMinus","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","HTMLViewer","_ref","html","scale","setScale","pageNum","setPageNum","htmlWidth","setHtmlWidth","hiddenDivRef","tempDiv","document","createElement","innerHTML","style","visibility","body","appendChild","sidebarElement","querySelector","pageContainerElement","sidebarWidth","offsetWidth","console","log","pageContainerWidth","error","removeChild","handleZoomIn","handleZoomOut","goToPrevPage","viewPdf","output","mode","container","height","goToNextPage","iframe","getElementById","numPages","contentWindow","querySelectorAll","length","children","className","onClick","icon","id","title","srcDoc","transform","concat","transformOrigin"],"sources":["/home/ashish/docpdf/pdfdoc/research-ranking-app/my-app/src/HtmlViewer.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport \"./HTMLViewer.css\"; // Import your CSS file if needed\nimport htmlpdfviewer from 'html-pdf-viewer';\nimport Button from 'react-bootstrap/Button';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearchPlus, faSearchMinus } from '@fortawesome/free-solid-svg-icons';\n\n\nconst HTMLViewer = ({ html }) => {\n\n  const [scale, setScale] = useState(1.2); // Initial scale factor\n\n  const [pageNum, setPageNum] = useState(1); // State to keep track of current page number\n\n  const [htmlWidth, setHtmlWidth] = useState(0); // State to store the width of HTML content\n  const hiddenDivRef = useRef(null); // Ref for hidden div\n  \n  useEffect(() => {\n    const tempDiv = document.createElement(\"div\");\n    tempDiv.innerHTML = html;\n    tempDiv.style.visibility = \"hidden\";\n    document.body.appendChild(tempDiv);\n  \n    // Check if sidebar and pagecontainer exist before accessing their properties\n    const sidebarElement = tempDiv.querySelector(\"#sidebar\");\n    const pageContainerElement = tempDiv.querySelector(\"#page-container\");\n    \n    if (sidebarElement && pageContainerElement) {\n      const sidebarWidth = sidebarElement.offsetWidth;\n      console.log(\"Width of sidebar:\", sidebarWidth);\n      \n      const pageContainerWidth = pageContainerElement.offsetWidth;\n      console.log(\"Width of pagecontainer:\", pageContainerWidth);\n\n\n      if (pageContainerElement<650){\n        setScale(scale+1);\n\n      }\n    } else {\n      console.error(\"Could not find sidebar or pagecontainer element in HTML.\");\n    }\n  \n    // Cleanup: remove the temporary div from the DOM\n    document.body.removeChild(tempDiv);\n  }, []);\n  \n\n\n  const handleZoomIn = () => {\n    setScale(scale + 0.1); // Increase scale factor by 0.1\n  };\n\n  const handleZoomOut = () => {\n    if(scale>1.1){\n      setScale(scale - 0.1); \n    }\n    // Decrease scale factor by 0.1\n  };\n\n  useEffect(()=>{console.log(scale)},[scale])\n  useEffect(() => {\n    setPageNum(1);\n\n   \n  }, [html]); // Reset page number whenever the HTML changes\n\n  const goToPrevPage = () => {\n    if (pageNum > 1) {\n      setPageNum(pageNum - 1);\n    }\n  };\n\n  const viewPdf = () => {\n    return htmlpdfviewer(html, { output: { mode: 'display', container: '#iframeId', height: 800 } });\n  }\n\n  const goToNextPage = () => {\n    const iframe = document.getElementById(\"viewer-iframe\");\n    const numPages = iframe.contentWindow.document.querySelectorAll(\"body > div\").length;\n    if (pageNum < numPages) {\n      setPageNum(pageNum + 1);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"pdfcontainerinside\">\n\n        <button onClick={handleZoomIn}>\n  <FontAwesomeIcon icon={faSearchPlus} /> Zoom In\n</button>\n<button onClick={handleZoomOut}>\n  <FontAwesomeIcon icon={faSearchMinus} /> Zoom Out\n</button>\n\n\n      {/* </div> */}\n      <div className=\"iframe-container\">\n        <iframe\n          id=\"viewer-iframe\"\n          title=\"HTML Viewer\"\n          srcDoc={html}\n          style={{\n            transform: `scale(${scale})`, // Dynamically set the scale factor\n            transformOrigin: \"0 0\", // Set the origin of transformation\n          }}\n        />\n      </div>\n     \n    </div>\n    </>\n  );\n};\n\nexport default HTMLViewer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}