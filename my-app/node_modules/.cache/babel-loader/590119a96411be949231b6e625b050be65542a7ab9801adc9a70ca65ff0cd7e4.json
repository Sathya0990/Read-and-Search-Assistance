{"ast":null,"code":"import React,{useState}from\"react\";import\"./Box.css\";// Custom hook for synchronous color assignment\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const useColorAssignment=initialColors=>{const[colors,setColors]=useState(initialColors);const assignColor=()=>{if(colors.length===0)return null;const randomIndex=Math.floor(Math.random()*colors.length);const color=colors[randomIndex];setColors(prevColors=>prevColors.filter((c,index)=>index!==randomIndex));return color;};return assignColor;};function Box(_ref){let{queryterms,setqueryterms,setcolorMap,brightColors,setbrightColors}=_ref;const[inputValue,setInputValue]=useState(\"\");const assignColor=useColorAssignment(brightColors);const handleInputOnChange=e=>{setInputValue(e.target.value);};const handleInputOnKeyPress=e=>{if(e.key===\"Enter\"){addTerms(inputValue);}};const handleAddButtonClick=()=>{addTerms(inputValue);};const handleRemoveTerm=index=>{setqueryterms(prevTerms=>prevTerms.filter((_,i)=>i!==index));};const addTerms=value=>{const newTerms=value.split(\";\").filter(term=>term.trim()!==\"\").map(term=>term.trim().toLowerCase());setqueryterms(prevTerms=>[...prevTerms,...newTerms]);setcolorMap(prevColorMap=>{const newColorMap={...prevColorMap};for(const term of newTerms){if(!newColorMap[term]){const randomColor=assignColor();if(randomColor){newColorMap[term]=randomColor;}}}console.log(newColorMap);return newColorMap;});setInputValue(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputValue,onChange:handleInputOnChange,onKeyPress:handleInputOnKeyPress,placeholder:\"Enter queryterms separated by semicolon\",className:\"input-field\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddButtonClick,className:\"add-button\",children:\"Add\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"queryterms-container\",children:queryterms.map((term,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"term\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"term-text\",children:term}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveTerm(index),className:\"remove-button\",children:\"x\"})]},index))})]});}export default Box;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","useColorAssignment","initialColors","colors","setColors","assignColor","length","randomIndex","Math","floor","random","color","prevColors","filter","c","index","Box","_ref","queryterms","setqueryterms","setcolorMap","brightColors","setbrightColors","inputValue","setInputValue","handleInputOnChange","e","target","value","handleInputOnKeyPress","key","addTerms","handleAddButtonClick","handleRemoveTerm","prevTerms","_","i","newTerms","split","term","trim","map","toLowerCase","prevColorMap","newColorMap","randomColor","console","log","className","children","type","onChange","onKeyPress","placeholder","onClick"],"sources":["/home/ashish/docpdf/pdfdoc/research-ranking-app/my-app/src/Box.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./Box.css\";\n\n\n\n// Custom hook for synchronous color assignment\nconst useColorAssignment = (initialColors) => {\n  const [colors, setColors] = useState(initialColors);\n\n  const assignColor = () => {\n    if (colors.length === 0) return null;\n\n    const randomIndex = Math.floor(Math.random() * colors.length);\n    const color = colors[randomIndex];\n    setColors((prevColors) => prevColors.filter((c, index) => index !== randomIndex));\n\n    return color;\n  };\n\n  return assignColor;\n};\n\n\nfunction Box({ queryterms, setqueryterms,setcolorMap,brightColors, setbrightColors }) {\n  const [inputValue, setInputValue] = useState(\"\");\n  const assignColor = useColorAssignment(brightColors);\n\n  const handleInputOnChange = (e) => {\n    setInputValue(e.target.value);\n  };\n\n  const handleInputOnKeyPress = (e) => {\n    if (e.key === \"Enter\") {\n      addTerms(inputValue);\n    }\n  };\n\n  const handleAddButtonClick = () => {\n    addTerms(inputValue);\n  };\n\n  const handleRemoveTerm = (index) => {\n    setqueryterms((prevTerms) => prevTerms.filter((_, i) => i !== index));\n  };\n\n  const addTerms = (value) => {\n    const newTerms = value\n      .split(\";\")\n      .filter((term) => term.trim() !== \"\")\n      .map((term) => term.trim().toLowerCase());\n\n    setqueryterms((prevTerms) => [...prevTerms, ...newTerms]);\n  \n    setcolorMap((prevColorMap) => {\n      const newColorMap = { ...prevColorMap };\n\n      for (const term of newTerms) {\n        if (!newColorMap[term]) {\n          const randomColor = assignColor();\n          if (randomColor) {\n            newColorMap[term] = randomColor;\n          }\n        }\n      }\n      console.log(newColorMap);\n      return newColorMap;\n    });\n  \n    setInputValue(\"\");\n  };\n  \n  \n  \n  return (\n    <div className=\"box\">\n      <div className=\"input-container\">\n        <input\n          type=\"text\"\n          value={inputValue}\n          onChange={handleInputOnChange}\n          onKeyPress={handleInputOnKeyPress}\n          placeholder=\"Enter queryterms separated by semicolon\"\n          className=\"input-field\"\n        />\n        <button onClick={handleAddButtonClick} className=\"add-button\">\n          Add\n        </button>\n      </div>\n      <div className=\"queryterms-container\">\n        {queryterms.map((term, index) => (\n          <div key={index} className=\"term\">\n            <span className=\"term-text\">{term}</span>\n            <button\n              onClick={() => handleRemoveTerm(index)}\n              className=\"remove-button\"\n            >\n              x\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Box;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}